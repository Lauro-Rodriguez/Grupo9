@model IEnumerable<SIGEFINew.Models.Presupuesto.PartIngreso>
@using PagedList.Mvc;
@{
    ViewBag.Title = "P. Ingresos";
}
<style>
    #pcontent {
        margin-top: 50px;
        width: 100%;
        height: auto;
    }

    table {
        width: 100%;
    }

    thead, tbody, tr, td, th {
        display: block;
    }

        tr:after {
            content: ' ';
            display: block;
            visibility: hidden;
            clear: both;
        }

        thead th {
            height: 30px;
            text-align: left;
        }

    tbody {
        height: 450px;
        overflow-y: auto;
    }

    thead {
        fallback
    }


        tbody td, thead th {
            width: 19.2%;
            float: left;
        }

    .thah {
        text-align: right;
    }

    .FColor {
        background-color: #fcf3cf;
    }
</style>
<div class="form-group">
    <div class="row">
        <div class="col-md-1">
            @*<input id="btnBuscar" type="submit" value="Añadir categoría" onclick="llamarVistaParcial()" data-toggle="modal" data-target="#myModal" class="btn btn-primary" />*@
            @*onclick="llamarVistaParcial()"*@
            @*<input id="btnBuscar" type="submit" value="Añadir categoría" class="btn btn-primary" />*@
            @*<button id="buttonnew" type="submit" data-toggle="modal" data-target="#myModal" class="btn btn-primary">*@
            <button id="buttonnew" type="submit" onclick="@("location.href='"+ Url.Action("Create","PartIngresoes")+ "'")" class="btn btn-primary">
                <span class="fa fa-plus"></span> Nuevo
            </button>
        </div>
        @*<div class="col-md-1">
            <input type="button" value="Nuevo" onclick="@("location.href='"+ Url.Action("Create","PartIngresoes")+ "'")" class="btn btn-primary" />
        </div>*@
        <div class="col-md-1">
            <button type="submit" onclick="@("location.href='"+ Url.Action("Print","PartIngresoes")+ "'")" class="btn btn-primary">
                <span class="glyphicon glyphicon-print"></span> Imprimir
            </button>
        </div>
        <div class="col-md-5 col-lg-offset-5">
            @using (Html.BeginForm())
            {
                <div class="input-group">
                    @Html.Editor("SearchString", ViewBag.CurrentFilter as string, new { htmlAttributes = new { @class = "form-control", placeholder = "Buscar por Nombre" } })
                    <span class="input-group-btn">
                        <button type="submit" class="btn btn-info">
                            <span class="glyphicon glyphicon-search"></span>
                        </button>
                    </span>

                </div><!-- /input-group -->
            }
        </div>

    </div>
</div>

<div class="box box-primary">
    <div class="box-header">
        <i class="ion ion-clipboard"></i>
        <h3 class="box-title">Partidas Presupuestarias de Ingresos</h3>

        @*<div class="box-tools pull-right">
                <ul class="pagination pagination-md inline">
                    <li><a href="/PartIngresoes/Create"><i class="fa fa-plus"></i> Nuevo</a></li>
                    <li><button type="button" class="btn btn-primary btn-flat">Open</button></li>
                </ul>
            </div>*@

        @*<div class="box-tools pull-right">
                <ul class="pagination pagination-md inline">
                    <li><a href="/PartIngresoes/Create"><i class="fa fa-plus"></i> Nuevo</a></li>
                    <li><a href="#">2</a></li>
                    <li><a href="#">3</a></li>
                    <li><a href="#">&raquo;</a></li>
                </ul>
            </div>*@
    </div>
    <!-- /.box-header -->
    <div class="box-body">
        <table class="table table-striped table-bordered table-hover table-condensed">
            <thead>
                <tr>
                    @*<th></th>*@
                    <th style="width:5%">
                        @Html.ActionLink("Código", "Index", new { sortOrder = ViewBag.Pain_Codigo, currentFilter = ViewBag.CurrentFilter })
                    </th>
                    <th style="width:25%">
                        Clave
                        @*@Html.ActionLink("Clave", "Index", new { sortOrder = ViewBag.Acti_Codigo, currentFilter = ViewBag.CurrentFilter })*@
                        @*@Html.DisplayNameFor(model => model.PROG_CODIGO)*@
                    </th>
                    <th style="width:60%">
                        @Html.ActionLink("Descripción", "Index", new { sortOrder = ViewBag.Pain_Nombre, currentFilter = ViewBag.CurrentFilter })
                        @*@Html.DisplayNameFor(model => model.PROG_NOMBRE)*@
                    </th>
                    <th style="width:10%"></th>
                </tr>
            </thead>
            

            @foreach (var item in Model)
            {
                <tr>
                    @*<td>
                        <span class="handle">
                            <i class="fa fa-ellipsis-v"></i>
                            <i class="fa fa-ellipsis-v"></i>
                        </span>
                    </td>*@
                    <td style="width:5%">
                        @Html.DisplayFor(modelItem => item.PAIN_CODIGO)
                    </td>
                    <td style="width:25%">
                        @Html.DisplayFor(modelItem => item.PAIN_CLAVE)
                    </td>
                    <td style="width:60%">
                        @Html.DisplayFor(modelItem => item.PAIN_NOMBRE)
                    </td>
                    <td style="width:10%">
                        @Html.ActionLink(" ", "Create", new { id = item.PAIN_CODIGO }, new { @class = "btn btn-primary glyphicon glyphicon-edit btn-xs", data_toggle = "tooltip", title = "Editar" })
                        @Html.ActionLink(" ", "Delete", new { id = item.PAIN_CODIGO }, new { @class = "btn btn-danger glyphicon glyphicon-trash btn-xs", data_toggle = "tooltip", title = "Eliminar" })
                    </td>
                </tr>
            }

        </table>
        <!-- See dist/js/pages/dashboard.js to activate the todoList plugin -->
        @*<ul class="todo-list">
                <li>

                    <span class="handle">
                        <i class="fa fa-ellipsis-v"></i>
                        <i class="fa fa-ellipsis-v"></i>
                    </span>

                    <input type="checkbox" value="">

                    <span class="text">Design a nice theme</span>

                    <small class="label label-danger"><i class="fa fa-clock-o"></i> 2 mins</small>

                    <div class="tools">
                        <i class="fa fa-edit"></i>
                        <i class="fa fa-trash-o"></i>
                    </div>
                </li>
                <li>
                    <span class="handle">
                        <i class="fa fa-ellipsis-v"></i>
                        <i class="fa fa-ellipsis-v"></i>
                    </span>
                    <input type="checkbox" value="">
                    <span class="text">Make the theme responsive</span>
                    <small class="label label-info"><i class="fa fa-clock-o"></i> 4 hours</small>
                    <div class="tools">
                        <i class="fa fa-edit"></i>
                        <i class="fa fa-trash-o"></i>
                    </div>
                </li>
                <li>
                    <span class="handle">
                        <i class="fa fa-ellipsis-v"></i>
                        <i class="fa fa-ellipsis-v"></i>
                    </span>
                    <input type="checkbox" value="">
                    <span class="text">Let theme shine like a star</span>
                    <small class="label label-warning"><i class="fa fa-clock-o"></i> 1 day</small>
                    <div class="tools">
                        <i class="fa fa-edit"></i>
                        <i class="fa fa-trash-o"></i>
                    </div>
                </li>
                <li>
                    <span class="handle">
                        <i class="fa fa-ellipsis-v"></i>
                        <i class="fa fa-ellipsis-v"></i>
                    </span>
                    <input type="checkbox" value="">
                    <span class="text">Let theme shine like a star</span>
                    <small class="label label-success"><i class="fa fa-clock-o"></i> 3 days</small>
                    <div class="tools">
                        <i class="fa fa-edit"></i>
                        <i class="fa fa-trash-o"></i>
                    </div>
                </li>
                <li>
                    <span class="handle">
                        <i class="fa fa-ellipsis-v"></i>
                        <i class="fa fa-ellipsis-v"></i>
                    </span>
                    <input type="checkbox" value="">
                    <span class="text">Check your messages and notifications</span>
                    <small class="label label-primary"><i class="fa fa-clock-o"></i> 1 week</small>
                    <div class="tools">
                        <i class="fa fa-edit"></i>
                        <i class="fa fa-trash-o"></i>
                    </div>
                </li>
                <li>
                    <span class="handle">
                        <i class="fa fa-ellipsis-v"></i>
                        <i class="fa fa-ellipsis-v"></i>
                    </span>
                    <input type="checkbox" value="">
                    <span class="text">Let theme shine like a star</span>
                    <small class="label label-default"><i class="fa fa-clock-o"></i> 1 month</small>
                    <div class="tools">
                        <i class="fa fa-edit"></i>
                        <i class="fa fa-trash-o"></i>
                    </div>
                </li>
            </ul>*@
    </div>

    @*<div class="box-footer clearfix no-border">
            <button type="button" class="btn btn-default pull-right"><i class="fa fa-plus"></i> Nuevo</button>
        </div>*@
</div>

<div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
        Modal content
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Nuevo - Partida de Ingreso</h4>
            </div>
            <div class="modal-body">
                <div id="resultado"></div>
            </div>
            @*<div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>
            </div>*@
        </div>
    </div>
</div>

@*<br />
    Pag. @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) de @Model.PageCount*@

@*@Html.PagedListPager(Model, page => Url.Action("Index",
    new { page, sortOrder = ViewBag.CurrentSort, currentFilter = ViewBag.CurrentFilter }))*@

<script>

    $(document).ready(function () {

        $("#buttonnew").click(function () {
            llamarVistaParcial();

        });

        function llamarVistaParcial() {
            var laURLDeLaVista = '@Url.Action("Create", "PartIngresoes")';
            $.ajax({
                cache: false,
                async: true,
                type: "GET",
                url: laURLDeLaVista,
                data: {},
                success: function (response) {
                    $('#resultado').html('');
                    $('#resultado').html(response);
                }
            });
        }

    });


</script>

@*<script>
    alert("w");
    $(document).ready(function () {
        $("#btnBuscar").click(function () {
            alert("w");

        });
    });
   
    function llamarVistaParcial() {
        alert("a");
    var laURLDeLaVista = '@Url.Action("Create", "PartIngresoes")';
    $.ajax({
        cache: false,
        async: true,
        type: "GET",
        url: laURLDeLaVista,
        data: {},
        success: function (response) {
            $('#resultado').html('');
            $('#resultado').html(response);
        }
    });
</script>*@